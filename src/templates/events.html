{{define "title"}}
  Events
{{end}}

{{define "content"}}
<div class="row">
  <ul class="pager">
    <li class="previous"><a href="{{ .PreviousUrl }}">&larr; Previous</a></li>
    <li class="next"><a href="{{ .NextUrl }}">Next &rarr;</a></li>
  </ul>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th></th>
        <th></th>
        <th>Home</th>
        <th>Result</th>
        <th>Away</th>
        <th>%</th>
        <th></th>
        <th>H</th>
        <th>D</th>
        <th>A</th>
      </tr>
    </thead>
    <tbody>
      {{range .Events}}
        <tr>
          <td>
            {{ if .Calculated }}
              <span>&#10003;</span>
            {{ end }}
          </td>
          <td>{{ .StartTime.Format "02-01-2006" }}</td>
          <td>{{ .Home }}</td>
          <td>{{ .HGoal }} - {{ .AGoal }}</td>
          <td>{{ .Away }}</td>
          <td>
            <span class="{{ .RatingDiffClass }}">
              {{ printf "%+.2f" .RatingDiff }} %
            </span>
          </td>
          <td>
            <span class="label {{ .ResultClass }}">{{ .ResultString }}</span>
          </td>
          <td>{{ printf "%.2f" .MaxOdds.Home }}</td>
          <td>{{ printf "%.2f" .MaxOdds.Draw }}</td>
          <td>{{ printf "%.2f" .MaxOdds.Away }}</td>
        </tr>
      {{end}}
    </tbody>
  </table>

  {{ if .IsAdmin }}
  <form method="post" action="/events/calc">
    <input name="league" type="hidden" value="{{ .League }}" />
    <input name="season" type="hidden" value="{{ .Season }}" />
    <input name="date" type="hidden" value="{{ .Date.Format  "2006-01-02" }}" />
    <button type="submit" class="btn btn-default">Calculate</button>
  </form>
  {{ end }}
</div>
{{end}}
